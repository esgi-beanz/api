<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2835" height="1839"><defs/><g transform="translate(48.5010195758564,-135.9280179445351) scale(3,3)" fill="rgb(0,0,0)" fill-opacity="1" stroke="rgb(0,0,0)" stroke-opacity="1" stroke-linejoin="round" stroke-miterlimit="10"><path fill="none" stroke="rgb(0,0,0)" paint-order="fill stroke markers" d=" M 313.5955298918651 265 L 312.5083283564847 375.6951566755466" stroke-opacity="1" stroke-linejoin="round" stroke-miterlimit="10"/><path fill="rgb(0,0,0)" stroke="none" paint-order="stroke fill markers" d=" M 308.2336696264343 368.00280380132125 L 312.4980161929636 376.7451060358891 L 316.9332500407003 368.0882474419249 L 312.5407380132654 372.3953158287561 Z" fill-opacity="1"/><path fill="none" stroke="rgb(0,0,0)" paint-order="fill stroke markers" d=" M 59.27050088802346 122.30933931484503 L 100.72159476587237 188.11157762485806" stroke-opacity="1" stroke-linejoin="round" stroke-miterlimit="10"/><path fill="" stroke="" paint-order="stroke fill markers" d=" M 92.96355366003377 183.95732700650117 L 101.28124258669106 189 L 100.32476762549575 179.32024506257486 L 98.9627016147279 185.319393017269 Z" fill-opacity="1"/><g transform="translate(80.13595978215258,155.43256406363702) rotate(57.79176280012466,0,0)"><rect fill="#ffffff" stroke="none" x="-23.5" y="-5" width="47" height="10"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="0" y="5" text-anchor="middle" dominant-baseline="text-after-edge">push code</text><g transform="rotate(-57.79176280012466,0,0) translate(-80.13595978215258,-155.43256406363702)"><path fill="none" stroke="" paint-order="fill stroke markers" d=" M 364.46875 248.06953642384104 L 451.24970920441706 284.2761617872734"/><path fill="" stroke="none" paint-order="stroke fill markers" d=" M 442.51459028264435 285.34513204995045 L 452.21875 284.68046357615896 L 445.8645193905534 277.31593688654937 L 448.20415241829943 283.00549902220445 Z"/><path fill="none" stroke="" paint-order="fill stroke markers" d=" M 175.71875 227 L 262.41875 227"/><path fill="" stroke="none" paint-order="stroke fill markers" d=" M 254.76875 231.35 L 263.46875 227 L 254.76875 222.65 L 259.11875 227 Z"/><rect fill="#ffffff" stroke="none" x="183.83125" y="222" width="71" height="10"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="219.33125" y="232" text-anchor="middle" dominant-baseline="text-after-edge">trigger workflow</text><path fill="none" stroke="" paint-order="fill stroke markers" d=" M 553.21875 305.75 L 639.91875 305.75"/><path fill="" stroke="none" paint-order="stroke fill markers" d=" M 632.26875 310.1 L 640.96875 305.75 L 632.26875 301.4 L 636.61875 305.75 Z"/><rect fill="#ffffff" stroke="none" x="561.33125" y="300.75" width="71" height="10"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="596.83125" y="310.75" text-anchor="middle" dominant-baseline="text-after-edge">trigger workflow</text><path fill="none" stroke="" paint-order="fill stroke markers" d=" M 553.21875 148.25 L 639.91875 148.25"/><path fill="" stroke="none" paint-order="stroke fill markers" d=" M 632.26875 152.6 L 640.96875 148.25 L 632.26875 143.9 L 636.61875 148.25 Z"/><rect fill="#ffffff" stroke="none" x="561.33125" y="143.25" width="71" height="10"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="596.83125" y="153.25" text-anchor="middle" dominant-baseline="text-after-edge">trigger workflow</text><path fill="none" stroke="" paint-order="fill stroke markers" d=" M 364.46875 205.93046357615896 L 451.24970920441706 169.72383821272663"/><path fill="" stroke="none" paint-order="stroke fill markers" d=" M 445.8645193905534 176.68406311345066 L 452.21875 169.31953642384104 L 442.51459028264435 168.65486795004958 L 448.20415241829943 170.99450097779558 Z"/><path fill="none" stroke="" paint-order="fill stroke markers" d=" M 344.32853835978835 265 L 471.70356129399534 424.4296644673187"/><path fill="" stroke="none" paint-order="stroke fill markers" d=" M 463.5299687075968 421.1681641635365 L 472.35896164021165 425.25 L 470.3270345498135 415.73770415203006 L 469.6437316344584 421.85146707889163 Z"/><path fill="none" stroke="" paint-order="fill stroke markers" d=" M 553.21875 462.7189543811481 L 645.0149030747327 461.7536485411918"/><path fill="" stroke="" paint-order="stroke fill markers" d=" M 637.411067016892 466.183849124177 L 646.0648450244698 461.74260760906395 L 637.3195850078328 457.48433011206964 L 641.7150855184161 461.78834861359366 Z"/><g transform="translate(599.3793120248006,462.233541228138) rotate(-0.6024861628757124,0,0)"><rect fill="#ffffff" stroke="none" x="-33" y="-5" width="66" height="10"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="0" y="5" text-anchor="middle" dominant-baseline="text-after-edge">trigger worflow</text><g transform="rotate(0.6024861628757124,0,0) translate(-599.3793120248006,-462.233541228138)"><path fill="none" stroke="" paint-order="fill stroke markers" d=" M 697.1511199389997 499.21156199021203 L 698.0024408501328 554.3907856296744"/><path fill="" stroke="none" paint-order="stroke fill markers" d=" M 693.5349461246852 546.8088010030677 L 698.0186386240385 555.440660685155 L 702.2339108700963 546.67459087642 L 697.9515335607147 551.0911783124494 Z"/><path fill="none" stroke="" paint-order="fill stroke markers" d=" M 749.2977671288744 606.8378748816242 L 813.0991766898687 607.9714101373246"/><path fill="" stroke="none" paint-order="stroke fill markers" d=" M 805.3731111831817 612.1848305752088 L 814.1490110114195 607.9900621424184 L 805.5276563682444 603.4862033395024 L 809.7996973935662 607.9127895498871 Z"/><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M -14.667006525285451 46.80933931484504 L -14.667006525285466 121.80933931484502 L 85.33299347471451 121.80933931484503 L 85.33299347471453 46.80933931484505 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="35.332993474714534" y="89.30933931484503" text-anchor="middle" dominant-baseline="text-after-edge">Developper 👨🏻‍💻</text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 75.21875000000001 189.5 L 75.21875 264.5 L 175.21874999999997 264.5 L 175.21875 189.5 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="125.21875" y="232" text-anchor="middle" dominant-baseline="text-after-edge">Github</text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 452.71875 110.75 L 452.71875 185.75 L 552.71875 185.75 L 552.71875 110.75000000000001 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="502.71875" y="147" text-anchor="middle" dominant-baseline="text-after-edge">DBaaS </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="502.71875" y="159.5" text-anchor="middle" dominant-baseline="text-after-edge">(Postgres) </text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 452.71875 268.25 L 452.71875 343.25 L 552.71875 343.25 L 552.71875 268.25 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="502.71875" y="304.5" text-anchor="middle" dominant-baseline="text-after-edge">Container </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="502.71875" y="317" text-anchor="middle" dominant-baseline="text-after-edge">Registry </text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 263.96875 189.5 L 263.96875 264.5 L 363.96875 264.5 L 363.96875 189.5 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="313.96875" y="232" text-anchor="middle" dominant-baseline="text-after-edge">Terraform deploy</text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 641.46875 110.75 L 641.46875 185.75 L 741.46875 185.75 L 741.46875 110.75000000000001 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="691.46875" y="147" text-anchor="middle" dominant-baseline="text-after-edge">Setup the </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="691.46875" y="159.5" text-anchor="middle" dominant-baseline="text-after-edge">DB/User </text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 641.46875 268.25 L 641.46875 343.25 L 741.46875 343.25 L 741.46875 268.25 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="691.46875" y="304.5" text-anchor="middle" dominant-baseline="text-after-edge">build and push </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="691.46875" y="317" text-anchor="middle" dominant-baseline="text-after-edge">docker image </text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 452.71875 425.75 L 452.71875 500.75 L 552.71875 500.75 L 552.71875 425.75 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="502.71875" y="455.75" text-anchor="middle" dominant-baseline="text-after-edge">K8s cluster with </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="502.71875" y="468.25" text-anchor="middle" dominant-baseline="text-after-edge">2 nodes and </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="502.71875" y="480.75" text-anchor="middle" dominant-baseline="text-after-edge">autoscaling </text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 262.1247960848287 377.2451060358891 L 262.1247960848287 452.2451060358891 L 362.1247960848287 452.2451060358891 L 362.1247960848287 377.2451060358891 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="312.1247960848287" y="407.2451060358891" text-anchor="middle" dominant-baseline="text-after-edge">Store state on </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="312.1247960848287" y="419.7451060358891" text-anchor="middle" dominant-baseline="text-after-edge">Object Storage </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="312.1247960848287" y="432.2451060358891" text-anchor="middle" dominant-baseline="text-after-edge">bucket </text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 646.5648450244698 423.71156199021203 L 646.5648450244698 498.71156199021203 L 746.5648450244698 498.71156199021203 L 746.5648450244698 423.71156199021203 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="696.5648450244698" y="453.71156199021203" text-anchor="middle" dominant-baseline="text-after-edge">Setup `kubctl` </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="696.5648450244698" y="466.21156199021203" text-anchor="middle" dominant-baseline="text-after-edge">and `scw`, setup </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="696.5648450244698" y="478.71156199021203" text-anchor="middle" dominant-baseline="text-after-edge">the kubeconfig </text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 648.7977671288744 555.940660685155 L 648.7977671288744 655.940660685155 L 748.7977671288744 655.940660685155 L 748.7977671288744 555.940660685155 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="698.7977671288744" y="579.690660685155" text-anchor="middle" dominant-baseline="text-after-edge">Create a </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="698.7977671288744" y="592.190660685155" text-anchor="middle" dominant-baseline="text-after-edge">namespace, </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="698.7977671288744" y="604.690660685155" text-anchor="middle" dominant-baseline="text-after-edge">secrets, </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="698.7977671288744" y="617.190660685155" text-anchor="middle" dominant-baseline="text-after-edge">deployment w/ </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="698.7977671288744" y="629.690660685155" text-anchor="middle" dominant-baseline="text-after-edge">pods, service, </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="698.7977671288744" y="642.190660685155" text-anchor="middle" dominant-baseline="text-after-edge">ingress controller </text><path fill="#ffffff" stroke="" paint-order="fill stroke markers" d=" M 814.6490110114195 571.4983176998368 L 814.6490110114195 646.4983176998368 L 927.1490110114195 646.4983176998368 L 927.1490110114195 571.4983176998368 Z"/><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="870.8990110114195" y="601.4983176998368" text-anchor="middle" dominant-baseline="text-after-edge">Create Scaleway </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="870.8990110114195" y="613.9983176998368" text-anchor="middle" dominant-baseline="text-after-edge">LB pointing to </text><text fill="" stroke="none" font-family="-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol" font-size="10px" font-style="normal" font-weight="normal" text-decoration="normal" x="870.8990110114195" y="626.4983176998368" text-anchor="middle" dominant-baseline="text-after-edge">nginx-ingress-controller </text><g transform="scale(0.3333333333333333,0.3333333333333333) translate(-48.5010195758564,135.9280179445351)"/></g></g></g></g></g><!--Original Flowchart Text (flowchart.fun):

~~~
layout:
  name: dagre
  rankDir: LR
~~~
Developper 👨🏻‍💻
  push code: Github
    trigger workflow: (tf)


[tf] Terraform deploy
      Store state on Object Storage bucket
      DBaaS (Postgres)
        trigger workflow: Setup the DB/User
      Container Registry
        trigger workflow: build and push docker image
      K8s cluster with 2 nodes and autoscaling
        trigger worflow: Setup `kubctl` and `scw`, setup the kubeconfig
            Create a namespace, secrets, deployment w/ pods, service, ingress controller
              Create Scaleway LB pointing to nginx-ingress-controller

--></svg>